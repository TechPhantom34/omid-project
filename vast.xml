<?xml version="1.0" encoding="UTF-8"?>
<VAST version="4.2">
  <Ad id="youtube-nonlinear-ad">
    <InLine>
      <AdSystem>MyAdServer</AdSystem>
      <AdTitle>YouTube Overlay Ad</AdTitle>
      <Description>NonLinear Overlay YouTube Video</Description>

      <Impression><![CDATA[
        https://ad.doubleclick.net/ddm/trackimp/N703922.279382DBMVIVAKITR-188916/B34487932.433292059;dc_trk_aid=626418761;dc_trk_cid=244660720;dc_dbm_token=AOjeLNEAAAA5CjMKDAgAFQAAAAAdAAAAABIMCAAVAAAAAB0AAAAAIhMIwMy3zlaoAqfp_QGwAuuXv-gDQDsQvKoMYzRDLtumQ2lsViBoWPQ1RA==;ord=[CACHEBUSTER]
      ]]></Impression>

      <Creatives>
        <Creative sequence="1" id="creative-youtube-001">
          <NonLinearAds>
            <NonLinear width="560" height="315" scalable="true" maintainAspectRatio="true">
              <HTMLResource><![CDATA[
                <div style="position:relative;width:560px;height:315px;">
                  <iframe id="ytPlayer" 
                    src="https://www.youtube.com/embed/VIDEO_ID?controls=0&autoplay=1&rel=0&modestbranding=1"
                    style="width:100%;height:100%;border:none;"
                    allow="autoplay"></iframe>

                  <div id="customControls" style="position:absolute;bottom:10px;left:50%;transform:translateX(-50%);display:flex;gap:10px;">
                    <button onclick="playPause()">Pause</button>
                    <button onclick="toggleMute()">Mute</button>
                  </div>

                  <div id="skipAd" style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
                    background:rgba(0,0,0,0.7);color:#fff;padding:10px;border-radius:5px;cursor:pointer;"
                    onclick="closeAd()">Skip Ad</div>
                </div>

                <script>
                  var yt = document.getElementById('ytPlayer');
                  var skip = document.getElementById('skipAd');
                  var controlsVisible = true;

                  function playPause() {
                    yt.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');
                  }
                  function toggleMute() {
                    yt.contentWindow.postMessage('{"event":"command","func":"mute","args":""}','*');
                  }
                  function closeAd() {
                    document.querySelector('div').style.display='none';
                  }

                  // Basit 15 saniye reklam simÃ¼lasyonu
                  setTimeout(()=>{
                    skip.style.display='block';
                  },15000);
                </script>
              ]]></HTMLResource>
              <NonLinearClickThrough><![CDATA[#]]></NonLinearClickThrough>
            </NonLinear>
          </NonLinearAds>
        </Creative>
      </Creatives>

    </InLine>
  </Ad>
</VAST>
